\railalias{selectclause}{select\_clause}
\railalias{targetlist}{target\_list}
\railalias{intoclause}{into\_clause}
\railalias{fromclause}{from\_clause}
\railalias{whereclause}{where\_clause}
\railalias{groupclause}{group\_clause}
\railalias{havingclause}{having\_clause}
\railalias{skylineclause}{skyline\_clause}
\railalias{sortclause}{sort\_clause}
\railalias{qualOp}{qual\_Op}
\railalias{cexpr}{c\_expr}

% \railparam{\thinline}
% \railparam{\thicklines}
\railtermfont{\ttfamily\upshape\tiny}
\railboxheight 12pt
\railinit

\begin{rail}

selectclause : 'SELECT' 'DISTINCT'? targetlist intoclause ? fromclause \\ whereclause ? ( groupclause havingclause ? ) ? \\ skylineclause ? sortclause ? ';';
skylineclause : 'SKYLINE' ( 'BY' | 'ON' ) 'DISTINCT' ? ( skylineexpr + ',' ) skylineoptions ?;
skylineexpr: cexpr ( 'MIN' | 'MAX' | 'DIFF' | 'USING' qualOp ) (() | 'NULLS FIRST' | 'NULLS LAST') ;
skylineoptions : 'WITH' ('EF' (('EFSLOTS' '=' slots) | (('EFWINDOW' | 'EFWINDOWSIZE') '=' windowsize ) ) ?) ? \\ ( (('BNL' | 'SFS') windowoptions ?) | 'PRESORT') ? ;
windowoptions : ( 'SLOTS' '=' slots ) | (('WINDOW' | 'WINDOWSIZE') '=' windowsize ) ;

\end{rail}


\newcommand\inlinesql[1]{{\tt #1}}
\newcommand\sql[1]{\inlinesql{#1}}
\newcommand\fixme[1]{{\bf FIXME (#1)}}
\newcommand\srcref[1]{{\tt #1}}

In fact the grammar is a defined a bit differnt, this is because SQL92
\fixme{ref:SQL92} requries
\sql{SELECT foo UNION SELECT bar ORDER BY baz}
to be parsed as 
\sql{(SELECT foo UNION SELECT bar) ORDER BY)}
and not as
\sql{SELECT foo UNION (SELECT bar ORDER BY baz)}
see \srcref{src/backend/parser/gram.y} for details.

For the \inlinesql{SKYLINE} clause we decided that the it should be left
assoziative, i.e. \\
\sql{SELECT * FROM foo UNION SELECT * FROM bar SKYLINE BY baz} \\
to be parsed as \\
\sql{SELECT * FROM foo UNION (SELECT * FROM bar SKYLINE BY baz)}. 

We did so because we believe the \inlinesql{SKYLINE} clause is closer
related to the \inlinesql{GROUP BY} clause than to the \inlinesql{ORDER BY}
clause, therefore we parse it in the same way.

